# Проектная работа "Веб-ларек"

 Стек: HTML, SCSS, TS, Webpack

# Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

# Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

npm install

npm run start

## Сборка
npm run build

# Архитектура проекта

# Базовые классы

Класс Component<T>

Абстрактный базовый класс для создания UI-компонентов. Предоставляет:
- Управление DOM-элементами
- Методы для работы с классами, текстом, изображениями
- Базовый метод render для наследования

Класс Model<T>

Абстрактный класс для управления данными приложения. Обеспечивает:
- Хранение состояния данных
- Уведомление о изменениях через события
- Базовый функционал для наследования моделями

Класс Api

Базовый класс для работы с API. Реализует:
- HTTP-запросы (GET, POST, PUT, DELETE)
- Обработку ответов и ошибок
- Централизованное управление запросами

Класс EventEmitter

Реализация паттерна Наблюдатель. Предоставляет:
- Подписку и отписку от событий
- Генерацию событий с данными
- Управление обработчиками событий

# Модели данных (Бизнес-логика)
Класс Product

Модель товара. Наследуется от Model<IProduct>. Отвечает за:
- Представление данных товара
- Управление состоянием отдельного продукта

Класс AppData

Главная модель состояния приложения. Наследуется от Model<IAppState>. Управляет:
- Каталогом товаров
- Данными корзины
- Информацией о заказе
- Валидацией форм доставки и контактов

Ключевые методы AppData:
- setCatalog() - загрузка каталога товаров
- addToBasket()/removeFromBasket() - управление корзиной
- validateDelivery()/validateContact() - валидация форм
- clearBasket()/clearOrder() - очистка данных

# Компоненты представления
Класс Modal

Компонент модального окна. Наследуется от Component<IModalData>. Обеспечивает:
- Открытие/закрытие модальных окон
- Управление содержимым модалок
- События открытия/закрытия

Класс Form

Базовый компонент формы. Наследуется от Component<IFormState>. Реализует:
- Обработку ввода данных
- Валидацию полей
- Управление ошибками
- Отправку данных

Класс Page

Главный компонент страницы. Наследуется от Component<IPage>. Управляет:
- Отображением каталога товаров
- Счетчиком корзины
- Блокировкой интерфейса

Класс Card

Компонент карточки товара. Наследуется от Component<ICard>. Отображает:
- Изображение товара
- Название и цену
- Кнопки действий
- Категорию товара

Особенности Card:

- Автоматическое отключение кнопки при отсутствии цены
- Геттеры/сеттеры для всех свойств товара
- Гибкая система действий через props

Класс Basket

Компонент корзины покупок. Наследуется от Component<IBasketView>. Обеспечивает:
- Отображение товаров в корзине
- Подсчет общей стоимости
- Управление доступностью кнопок

Класс DeliveryForm

Форма доставки. Наследуется от Form<IDeliveryForm>. Реализует:
- Выбор способа оплаты
- Ввод адреса доставки
- Валидацию данных

Класс ContactForm

Форма контактов. Наследуется от Form<IContactForm>. Управляет:
- Вводом телефона и email
- Валидацией контактных данных

Класс Success

Компонент успешного заказа. Наследуется от Component<ISuccess>. Отображает:
- Сообщение об успешном оформлении
- Сумму заказа
- Кнопки для дальнейших действий

# Взаимодействие компонентов
Поток данных:

Api → AppData → Компоненты

Пользовательские действия → EventEmitter → AppData → Обновление UI

# Ключевые события:
catalog:changed - обновление каталога товаров
basket:changed - изменение корзины
order:ready - готовность заказа
formErrors:change - ошибки валидации

# Основные процессы
1. Процесс покупки:
Пользователь просматривает каталог (Page + Card)

Добавляет товары в корзину (Basket)

Заполняет формы доставки и контактов (DeliveryForm + ContactForm)

Подтверждает заказ → создается Success компонент

2. Управление состоянием:
3. 
Все изменения данных происходят через AppData

EventEmitter уведомляет компоненты об изменениях

Компоненты обновляют UI в ответ на события

# Особенности реализации
1. Децентрализованная архитектура через события
2. Переиспользуемые компоненты с наследованием
3. Строгая типизация TypeScript
4. Валидация данных на уровне моделей и форм
